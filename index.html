<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Walmart Seller Research â€” Browser Demo (Alt Loader)</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@stlite/browser/build/stlite.css" />
    <style>
      body { background:#F3F4F6; margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto; }
      .wrap { max-width:1100px; margin:1.5rem auto; padding:0 1rem; }
      .note { background:#fff; border:1px solid #E5E7EB; border-radius:12px; padding:1rem 1.25rem; color:#374151; }
      .loading { margin:1rem 0; padding:.75rem 1rem; background:#fffbe6; border:1px solid #f6e05e; border-radius:10px; color:#92400e; }
      #app { margin-top:1rem; }
    </style>
  </head>
  <body>
    <div class="wrap">
      <div class="note">
        <strong>Heads up:</strong> This demo runs Streamlit entirely in your browser (via <em>stlite</em>). 
        First load can take 10â€“30 seconds while it downloads Python (Pyodide). If it stalls, try Chrome/Edge and disable ad/script blockers for <code>cdn.jsdelivr.net</code>.
      </div>
      <div class="loading" id="loadingBox">Loading Python runtimeâ€¦ this can take ~10â€“30 seconds on first load.</div>
    </div>
    <div id="app"></div>

    <script src="https://cdn.jsdelivr.net/npm/@stlite/browser/build/stlite.js"></script>
    <script>
      const files = {
        "streamlit_app.py": { content: `
import streamlit as st
st.set_page_config(page_title="Walmart Seller Research â€” Browser Demo", page_icon="ðŸ›’", layout="wide")
st.markdown('''
<style>
:root{
  --wm-blue:#0071CE; --wm-yellow:#FFC220; --wm-dark:#004F9F;
  --wm-text:#1F2937; --wm-bg:#F3F4F6; --wm-card:#FFFFFF;
}
.block-container { padding-top: 2rem; }
.card { background: var(--wm-card); border: 1px solid #E5E7EB; border-radius: 14px; padding: 1rem 1.25rem; box-shadow: 0 6px 18px rgba(0,0,0,0.04); }
.badge { display:inline-block; padding:.25rem .5rem; border-radius:8px; background: var(--wm-yellow); color:#111827; font-weight:600; font-size:.85rem; }
</style>
''', unsafe_allow_html=True)
left, right = st.columns([5,2])
with left:
    st.title("Walmart Seller Research")
    st.caption("Track competitors, prices, badges, and trends â€” Walmart-themed UI (client-side demo).")
with right:
    st.markdown("<div style='text-align:right'><span class='badge'>Browser Demo</span></div>", unsafe_allow_html=True)
st.divider()
c1, c2, c3, c4, c5 = st.columns(5)
with c1: st.metric("Competitors", "â€”")
with c2: st.metric("Buy Box (est.)", "â€”")
with c3: st.metric("Avg Price", "â€”")
with c4: st.metric("In-Stock %", "â€”")
with c5: st.metric("Tracked SKUs", "â€”")
st.page_link("pages/Pricing.py", label="Go to Pricing â†’", icon="ðŸ’³")
st.page_link("pages/Competitors.py", label="Competitor Comparison", icon="ðŸ†š")
st.page_link("pages/Trends.py", label="Trends", icon="ðŸ“ˆ")
st.page_link("pages/Alerts.py", label="Alerts", icon="ðŸ””")
st.page_link("pages/Exports.py", label="Exports", icon="ðŸ“¤")
        ` },
        "pages/Pricing.py": { content: `
import streamlit as st
st.set_page_config(page_title="Pricing â€” Browser Demo", page_icon="ðŸ’³", layout="centered")
st.markdown('''
<style>
:root{ --wm-blue:#0071CE; --wm-yellow:#FFC220; --wm-dark:#004F9F; --wm-text:#1F2937; --wm-card:#FFFFFF; }
.card { background: var(--wm-card); border: 1px solid #E5E7EB; border-radius: 16px; padding: 1.25rem 1.5rem; box-shadow: 0 8px 24px rgba(0,0,0,0.06); }
.price { font-size: 2.0rem; font-weight: 700; color: var(--wm-blue); }
.wm-btn button { background: var(--wm-blue) !important; color: #fff !important; border-radius: 10px !important; border: 0 !important; }
.wm-btn button:hover { background: var(--wm-dark) !important; }
.badge { display:inline-block; padding:.25rem .5rem; border-radius:.5rem; background: var(--wm-yellow); color:#111827; font-weight:600; }
</style>
''', unsafe_allow_html=True)
st.title("Pricing")
st.caption("Simple options. Walmart-inspired design. (Static browser demo)")
plans = [
    { "name": "7-Day Free Trial", "price": "$0", "period": "for 7 days",
      "features": ["Track up to 50 SKUs","Daily refresh","CSV export","Email alerts (1 rule)"], "key": "trial" },
    { "name": "7-Day Pass", "price": "$7.99", "period": "one-time",
      "features": ["Track up to 150 SKUs","Daily refresh","CSV & Google Sheets export","Alerts (3 rules)"], "key": "weekly" },
    { "name": "Monthly", "price": "$19", "period": "/month",
      "features": ["Track up to 500 SKUs","2Ã— daily refresh","Sheets/CSV export","Unlimited alerts","Competitor comparison & trends"], "key": "monthly" },
    { "name": "Annual", "price": "$149", "period": "/year",
      "features": ["Track up to 1,000 SKUs","4Ã— daily refresh","All exports + webhooks","Priority support","12-month history"], "key": "annual", "badge": "Best Value" }
]
cols = st.columns(4, gap="large")
for col, plan in zip(cols, plans):
    with col:
        st.markdown('<div class="card">', unsafe_allow_html=True)
        if "badge" in plan:
            st.markdown(f"<div class='badge'>{plan['badge']}</div>", unsafe_allow_html=True)
        st.subheader(plan["name"])
        st.markdown(f"<div class='price'>{plan['price']} <span style='font-size:1rem; font-weight:500; color:#4B5563'>{plan['period']}</span></div>", unsafe_allow_html=True)
        st.markdown("<hr/>", unsafe_allow_html=True)
        for f in plan["features"]:
            st.markdown(f"- {f}")
        st.write("")
        if st.button(f"Choose {plan['name']}", key=f"choose_{plan['key']}"):
            st.session_state['selected_plan'] = plan['key']
            st.success(f"Selected: {plan['name']}")
        st.markdown("</div>", unsafe_allow_html=True)
if 'selected_plan' in st.session_state:
    chosen = next((p for p in plans if p['key'] == st.session_state['selected_plan']), None)
    if chosen:
        st.info(f"You selected **{chosen['name']}**. (Demo only â€” no billing here.)")
        ` },
        "pages/Competitors.py": { content: `
import streamlit as st
st.set_page_config(page_title="Competitor Comparison", page_icon="ðŸ†š", layout="wide")
st.title("Competitor Comparison")
st.caption("Side-by-side of sellers, prices, shipping, ratings, reviews, and badges.")
st.info("Browser demo â€” connect real data in your server app.")
        ` },
        "pages/Trends.py": { content: `
import streamlit as st
st.set_page_config(page_title="Trends", page_icon="ðŸ“ˆ", layout="wide")
st.title("Trends")
st.caption("Price history, Buy Box trends, stockouts, and volatility scores.")
st.info("Browser demo â€” add your charts and analytics in the server app.")
        ` },
        "pages/Alerts.py": { content: `
import streamlit as st
st.set_page_config(page_title="Alerts", page_icon="ðŸ””", layout="wide")
st.title("Alerts")
st.caption("Create rules like price drop > 5%, lost Buy Box, or new competitor detected.")
st.info("Browser demo â€” integrate scheduling in the server app.")
        ` },
        "pages/Exports.py": { content: `
import streamlit as st
st.set_page_config(page_title="Exports", page_icon="ðŸ“¤", layout="wide")
st.title("Exports")
st.caption("Export to CSV, Google Sheets, and schedule automated exports.")
st.info("Browser demo â€” integrate exports and history storage in the server app.")
        ` }
      };
      const loadingBox = document.getElementById("loadingBox");
      function onProgress(p){ if(loadingBox){ loadingBox.textContent = "Downloadingâ€¦ " + Math.round(p*100) + "%"; if(p>=1) loadingBox.textContent="Initializingâ€¦"; } }
      stlite.mount({ entrypoint: "streamlit_app.py", files, onProgress }, document.getElementById("app"))
      .then(()=> loadingBox && loadingBox.remove())
      .catch(e => { if(loadingBox) loadingBox.textContent = "Load failed: " + e; console.error(e); });
    </script>
  </body>
</html>
